import{u as d,a as i,j as t,b as x,s as f,c as p,f as h,d as j}from"./index-BQWqTJEg.js";import{H as N,a as g}from"./index.esm-CpfRHq9E.js";const C=e=>e.contacts.isLoading,y=e=>e.contacts.contacts,v="_container_1a6jb_1",w="_form_1a6jb_11",$="_input_1a6jb_15",A="_btn_1a6jb_50",E="_header_1a6jb_104",o={container:v,form:w,input:$,btn:A,header:E};function L(){const e=d(),a=i(s=>s.contacts.contacts),c=s=>{s.preventDefault();const n=s.currentTarget,{name:_,number:b}=n.elements,l={name:_.value,number:b.value};if(a.some(m=>m.name===l.name||m.number===l.number)){window.alert(`${l.name} is already in contacts`);return}e(x(l)).then(()=>{n.reset()})};return t.jsx("div",{className:o.container,children:t.jsxs("form",{action:"/addContact",className:o.form,onSubmit:c,children:[t.jsx("input",{className:o.input,type:"text",name:"name",pattern:"^[A-Za-ząćęłńóśźżĄĆĘŁŃÓŚŹŻ]+(?: [A-Za-ząćęłńóśźżĄĆĘŁŃÓŚŹŻ]+)+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Name"}),t.jsx("input",{className:o.input,type:"tel",name:"number",pattern:"^\\+?[1-9]\\d{1,14}$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Phone number"}),t.jsx("button",{type:"submit",className:o.btn,children:"Add contact"})]})})}const B="_container_872gp_8",F="_contact_872gp_24",P="_icon_872gp_37",S="_contactName_872gp_44",q="_contactNumber_872gp_48",z="_deleteBtn_872gp_52",r={container:B,contact:F,icon:P,contactName:S,contactNumber:q,deleteBtn:z},D="_input_wgfxp_1",H="_btn_wgfxp_36",k="_header_wgfxp_90",u={input:D,btn:H,header:k};function R(){const e=d(),a=i(s=>s.filter),c=s=>{e(f(s.target.value))};return t.jsx("div",{children:t.jsx("div",{className:u.filterContainer,children:t.jsx("input",{className:u.input,type:"text",value:a,placeholder:"Search contact",onChange:c})})})}function Y(){const e=d(),a=i(y),c=i(n=>n.filter);p.useEffect(()=>{e(h())},[e]);const s=a.filter(n=>n.name.toLowerCase().includes(c.toLowerCase()));return t.jsxs("div",{className:r.container,children:[t.jsx("h2",{children:"Your contact list"}),t.jsx(R,{}),t.jsx("ul",{children:s.map(n=>t.jsxs("li",{className:r.contact,children:[t.jsxs("span",{className:r.contactName,children:[" ",n.name,":"]}),t.jsx("span",{className:r.contactNumber,children:n.number}),t.jsx("button",{type:"button",className:r.deleteBtn,onClick:()=>e(j(n.id)),children:"Delete"})]},n.id))})]})}function T(){const e=d(),a=i(C);return p.useEffect(()=>{e(h())},[e]),t.jsxs(N,{children:[t.jsx(g,{children:t.jsx("title",{children:"Your contacts"})}),t.jsx(L,{}),t.jsx("div",{children:a&&"Request in progress..."}),t.jsx(Y,{})]})}export{T as default};
